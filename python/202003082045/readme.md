## 计算机网络
### 前言
####(1)、什么是计算机网络
`计算机网络主要由一些通用的、可编程的硬件互联而成，通过这些硬件，可以传送不同类型的数据，并且可以广泛支持和日益增长的应用。`
- 计算机网络不是软件概念，还包含硬件概念
- 计算机网络比仅仅是信息通信，还可以支持广泛的应用
####(2)、计算机网络的分类
- A、网络的作用范围:
 - 广域网(WAN)
 - 城域网(MAN)
 - 局域网(LAN)

| 分类  | 英文 | 范围  | 区域 |
| ------------- | ------------- |------------- | ------------- |
| 广域网         | WAN(Wide Area Network)          |几十到几千公里  |跨省、跨国 |          
| 城域网         | MAN(Metro Area Network) |       5KM-50KM  |城市间|
| 局域网           |  LAN(Local Area Network) |         1KM以内   |地区间|

- B、网络使用者
 - 公有网络
 - 专用网络

####(3)、概览
- A、计算机网络概述
 - 发展历史
 - 层次结构
 - 网络拓扑
 - 性能指标
- B、物理层概述
- C、数据链路层
 - 数据链路层概述
 - 差错监测
 - 最大传输单元MTU
 - 以太网协议
### 一、计算机网络的发展简史
#### (1)、互联网的发展简史
`第一阶段:单个网路ARPANET(1969)`  --> `第二阶段:三级结构的互联网`  -->  `多层次ISP互联网`
ISP(Internet Service Provider)：网络服务提供商
现代国际互联网的主要线路:
#### (2)、中国互联网的发展简史
`开始互联网实验(1980)`  --> `第一公共网络建立运行(1989)`  -->  `接入国际互联网(1994)`
- 中国最大的五个公共网络：
 - 中国电信互联网(CHINANET)
 - 中国联通互联网(UNINET)
 - 中国移动互联网(CMNET)
 - 中国教育和科研计算机网(CERNET)
 - 中国科学技术网(CSTNET)
- 1996年，张朝阳搜狐
- 1997年，丁磊网易
- 1998年，王志东新浪
- 1998年，马化腾、张志东腾讯
- 1999年，马云阿里巴巴
- 2000年，李彦宏百度
***
### 二、计算机网络的层次结构
#### (1)、层次结构设计的基本原则
> 保证数据通路畅通
 目的计算机状态
 识别目的计算机
 数据错误判断
 **分层实现不同的功能**
网络应用数据 --接触--> 视频、文件、游戏
数据可靠通信 --接触--> 数据错误、重复
物理网络接入 --接触--> 光电等物理特性

(1)、各层之间是相互独立的;
(2)、每一层要有足够的灵活性；
(3)、各层之间完全解耦;
#### (2)、OSI七层模型
(1)、应用层:为计算机网络提供接口和服务
(2)、表示层:数据处理(便曾解码、加密解码)
(3)、会话层:管理(建立、维护、重连)通信会话
(4)、传输层:管理端到端的通信连接
(5)、网络层:数据路由(决定数据在网络中的路径)
(6)、数据链路层:管理相邻节点之间的数据通信
(7)、物理层:数据通信的光电物理特性
- OSI欲成为全球互联网都遵循的标准
- OSI在市场化过程中困难重重，TCP/IP在全球范围成功运行
 - OSI的专家缺乏实际经验
 - OSI标准制定周期过长，按OSI标准生产的设备无法及时进入市场
 - OSI模型设计的并不合理，一些功能在多层中出现重复
#### (3)、TCP/IP四层模型
> 应用层:HTTP/FTP/SFTP/SMPT/POP3
传输层:TCP/UDP
网络层:IP/ICMP
网络接口层:Ethernet/ARP/RARP/PPP
特性:中间窄，两边大的沙漏

### 三、现代互联网的网络拓扑
> 边缘部分:家庭、企业
核心部分：地区ISP、主干ISP、国际路由器

#### (1)、树状结构
#### (2)、客户-服务器(C/S)模式
#### (3)、对等链接(P2P)模式
### 四、计算机网络的性能

||bit|Byte|KB|MB|GB|TP|PB|EB|
|--|--|--|--|--|--|--|--|--|
|名称|比特位|字节|千字节|兆字节|吉字节|太字节|拍字节|艾字节|
|比例| - |8bits|1024B|1024KB|1024MB|1024GB|1024TB|1024EB|
|常用设备| 门电路|-|寄存器|高速缓存|内存/硬盘|硬盘|云硬盘|数据仓库|

> 速率:bps=bits/s
为什么电信拉的100M光纤，测试峰值速度只有12M/S?
网络常用单位为Mbps
100M/S=100Mbps/s=100Mbit/s
100Mbit/s=(100/8)MB/s=12.5MB/s
#### (1)、时延:数据包在网络设备中等待处理的时间
- 发送时延:本地发送,数据长度bit/发送速率bit/s
- 传播时延:端到端距离和传播材质,传播路径距离/发送速率bit/s
- 排队时延:对端的接受数据队列
- 处理时延:对端的服务器性能
#### (2)、往返时间RTT
- RTT(Route-Trip Time)是评估网络质量的一项重要指标
- RTT表示的是数据报文在端到端通信中的来回一次的时间
- 通常使用ping命令查看RTT
### 五、物理层概述
#### (1)、物理层的作用
- 连接不同的物理设备
 - 光纤
 - 同轴电缆
 - 双绞线
 - 红外线
 - 无线
 - 激光
- 传输比特流
 - 高低电频
- 物理特性
 - 机械特性
 - 电器特性
 - 功能特性
 - 过程特性
#### (2)、信道的基本概念
- 信道是往一个方向传送信息的媒介
- 一条通信电路包含一个接受信道和一个发送信道
 - 单工通信信道:只能一个方向通信，没有反方向反馈的信道。如有线电视、无线电收音机等。
 - 半双工通信信道:双方都可以发送和接受信息，但是不能同时发送、也不能同时接受。
 - 全双工通信信道:双方都可以同时发送和接受信息
#### (3)、分用-复用技术
- 频分复用
- 时分复用
- 波分复用
- 码分复用
### 六、数据链路层概述
#### (1)、封装成帧
 - 帧是数据链路层的基本单位；
 - 发送端在网络层的一段数据前后添加特定标记形成帧；
 - 接受端根据前后特定标记识别出"帧"(物理层才不管你帧不帧)
`IP数据报`-->帧的数据`-->`在帧首部和帧尾部添加标记，这就是帧的长度，就是一堆01代码`
- SOH:帧首部控制字符(00000001)
- EOT:帧尾部控制字符(00000100)
#### (2)、透明传输
- 透明在计算机领域是非常重要的一个术语
- 一种实际存在的事物却又看起来不存在一样
- 即是控制字符在帧数据中，但是要当做不存在的去处理
 - 编程语言中"\"一般为转义字符
 - "\n","\t"等控制字符
 - "\\","\\\\"
#### (3)、差错监测
- 物理层只管传输比特流，无法控制是否出错;
- 数据链路层负责起"差错检测"的工作
### 七、数据链路层的差错监测
#### (1)、奇偶校验码
`数字相加判断奇偶，和奇1偶0，附加于数据报，局限性是出错多位奇偶校验码检测不到错误`
#### (2)、循环冗余校验码CRC
- 一种根据传输或保存的数据而产生固定位数校验码的方法;
- 检测数据传输或者保存后可能出现的错误;
- 生成的数据计算出来并且附加到数据后面;
> 模2除法:(xor：亦或)
0 xor 0 = 0
0 xor 1 = 1
1 xor 0 = 1
1 xor 1 = 0
- 原理:
 - 选定一个用于校验的多项式G(x),并且数据为不追加r个零
 - 将添加r个零后的数据，使用模2除以多项式的位串
 - 把得到的余数填充在原数据r个零的位置得到可校验的位串
- 说明:
 - CRC的错误监测能力与位串的阶数r有关
 - 数据链路层只进行数据的监测，不进行纠正

#### (3)、常用CRC(ITU-IEEE规范)
|名称|多项式|
|:--:|:--:|
|CRC-1|x+1(用途:硬件，也称为奇偶校验码)|
|CRC-5-CCITT|x^5+x^3+x+1(ITU G704标准)|
|CRC-5-USB|x^5+x^2+1(用途:usb信令包)|
|CRC-7|x^7+x^3+1(用途:通信系统)|
|CRC-8-ATM|x^8+x^2+x+1(用途:ATM HEC,PMBUS(参见SMBUS org[1]))|
|CRC-8-CCITT|x^8+x^7+x^3+x^2+1(用途:1-Wire 总线)|
|CRC-8-Dallas/Maxim|x^8+x5+x^4+1(用途:1-Wire bus)|
|CRC-8|x^8+x^7+x^6+x^4+x^2+1|
|CRC-10|x^10+x^9+x^5+x^4+x+1|
|CRC-12|x^12+x^11+x^3+x^2+x+1(用于通信系统)|
|CRC-16-Fletcher|参见Fletcher's checksum|
|CRC-16-CCITT|x^16+x^12+x^5+1(X25,V.41,bluetooth,PPP,lrDA)|
|CRC-16-IBM|x^16+x^15+x^2+1(用途:Modbus)|
|CRC-16-BBS|x^16+x^15+x^10+x^3(用途:XMODEM协议)|
|CRC-32-Adler|参见Adler-32|
|CRC-32-MPEG2|参见IEEE 802.3|
### 八、最大传输单位MTU
#### (1)、MTU
- 最大传输单元(Maxinum Transmission Unit)
- 数据链路层的数据帧不是无限大的
- 数据帧过大或过小都会影响传输效率，以太网MTU一般为1500字节
#### (2)、路径MTU
- 路径MTU由链路中MTU的最小值决定

***附件:chrome的新打开plugin的方式:`chrome://apps/`***